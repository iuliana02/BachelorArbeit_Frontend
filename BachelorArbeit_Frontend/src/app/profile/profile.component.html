<p-toast position="top-right"></p-toast>

<p-menubar [style]="{'background-color': '#ccccff'}">
  <div class="topnav">
    <div class="topnav-left">
  <button pButton icon="pi pi-home" class="p-button-text p-button-secondary profileBtn" (click)="goToHome()"></button>
    </div>
    <p-button *ngIf="user.role=='landlord'" label="New requests" icon="pi pi-bell"  badge="{{this.notifications}}" (click)="goToRentalRequests()"></p-button>

  <button pButton class="p-button-text p-button-secondary profileBtn">My role: {{role.toUpperCase()}} </button>
  </div>
</p-menubar>


<div id="profile-info" fxLayout="column" class="centered">
  <div class="card w-50 classCard">
<p-panel>
<ng-template pTemplate="header">
  <h4>My profile</h4>
</ng-template>
<ng-template pTemplate="content">
  <form [formGroup]="profileForm" id="profileForm" class="ui-fluid p-formgrid p-grid" *ngIf="this.profileForm" style=" justify-content: center">
    <div class="p-field p-col-12 p-md-2">
      <label for="firstName">First name</label> <br>
      <input pInputText type="text" id="firstName" formControlName="firstName" name="profile" style="width: 50%; box-sizing: border-box">
    </div>
    <div class="p-field p-col-12 p-md-2">
      <label for="lastName">Last name</label><br>
      <input pInputText type="text" id="lastName" formControlName="lastName" name="profile" style="width: 50%; box-sizing: border-box">
    </div>
    <p class="p-field p-col-12 p-md-2">
      <label for="username">Email / Username</label> <br>
      <input pInputText type="email" id="username" formControlName="username" name="profile" style="width: 50%; box-sizing: border-box" readonly>
      <small id="username1-help" class="block">Username can not be changed.</small>
    <div class="p-field p-col-12 p-md-2">
      <label for="phoneNumber">Phone number</label><br>
      <p-inputMask id="phoneNumber" mask="(99) 99999999" validateMask="true" style="width: 50%; box-sizing: border-box"
               formControlName="phoneNumber"> </p-inputMask>
    </div>
    <div class="p-field p-col-12 p-md-2">
      <label for="birthDay">Birthday</label><br>
      <p-inputMask id="birthDay" mask="9999-99-99" formControlName="birthDay" style="width: 50%; box-sizing: border-box">
    </p-inputMask>
    </div>
  </form>
</ng-template>
  <br><br>
  <ng-template pTemplate="footer">
    <div style="display:flex; justify-content: center" fxLayoutGap="30">
    <button pButton type="button" class="p-button-primary" (click)="edit()"> {{'Edit'}}</button>
    <button pButton type="button" class="p-button-primary" (click)="updateUser()"> {{'Save'}}</button>
    </div>
  </ng-template>

</p-panel>
</div>
</div>
